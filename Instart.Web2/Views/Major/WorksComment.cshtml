@model Instart.Models.HereMore
@{
    ViewBag.Title = "here&more";
    Layout = null;
}
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>作品评析</title>
    <link href="/content/css/common.css" type="text/css" rel="stylesheet" />
    <link href="/content/css/main.css" type="text/css" rel="stylesheet" />

    <script src="/content/js/jquery-1.11.3.min.js" type="text/javascript"></script>
    <script src="/content/js/remH.js" type="text/javascript"></script>
    <script src="/content/js/index.js" type="text/javascript"></script>
    <script src="/content/js/banner.js" type="text/javascript"></script>
    <script src="/content/js/pubu.js" type="text/javascript"></script>
    <script src="/content/js/pager.js" type="text/javascript"></script>
    <script src="/content/js/jquery.SuperSlide.2.1.1.js" type="text/javascript"></script>
    <script src="/content/js/jquery.raty.js" type="text/javascript"></script>
    <script src="~/Content/layui/layui.all.js"></script>
    <script src="/content/layer/layer.js" type="text/javascript"></script>
    <script type="text/javascript" src="/content/jquery.form.js"></script>
</head>

<body>
    <div class="model">
        <div class="model-form" style="border-bottom:1px dotted #ccc;">
            <form class="form-horizontal edit-container-width" id="mainForm" method="post" target="_self" action="/major/comment" enctype="multipart/form-data">
                <ul>
                    <li>
                        <div>计划去的国家：</div>
                        <div class="select">
                            <input type="hidden" class="datacont" name="Country" />
                            <span>选择国家</span>
                            <p>
                                @foreach (Instart.Common.EnumberEntity item in ViewBag.CountryList)
                                {
                                    <a title="" href="javascript:void(0)" rel="@item.EnumValue">@item.Description</a>
                                }
                            </p>
                        </div>
                    </li>
                    <li>
                        <div>计划学的专业：</div>
                        <div class="select">
                            <input type="hidden" class="datacont" name="MajorId" />
                            <span>选择专业</span>
                            <p>
                                @foreach (Instart.Models.Major item in ViewBag.MajorList)
                                {
                                    <a title="" href="javascript:void(0)" rel="@item.Id">@item.Name</a>
                                }
                            </p>
                        </div>
                    </li>
                    <li>
                        <div>上传作品集（可选）：</div>
                        <div class="flles"><a href="javascript:void(0)" class="blue">点击上传</a><small>（1-3张格式为jpg的作品）</small><input class="flietext" type="file" multiple="multiple" accept="image/*" name="fileUpload" /></div>
                        <div class="flltext"></div>
                    </li>
                    <li>
                        <div>姓名：</div>
                        <div class="cin">
                            <input type="text" placeholder="请输入您的姓名" style="width:215px" name="Name" maxlength="25" />
                        </div>
                    </li>
                    <li>
                        <div>手机号：</div>
                        <div class="cin">
                            <input type="text" placeholder="请输入您的手机号" style="width:200px" name="Phone" maxlength="20" />
                        </div>
                    </li>
                    <li>
                        <div>邮箱地址：</div>
                        <div class="cin">
                            <input type="text" placeholder="请输入您的邮箱地址" style="width:185px" name="Email" maxlength="50" />
                            <div class="tiyou">作品评析结果将在三个工作日之内发送到你的邮箱</div>
                        </div>
                    </li>
                </ul>
            </form>
        </div>
        <div class="modelbutton textcenter">
            <a href="javascript:;" class="bluebox">提  交</a><a href="javascript:;" class="glaxbox" onclick="cancel()">取  消</a>
        </div>
    </div>
    <script type="text/javascript">
        $(function () {
            //显示隐藏计划
            $(".select").on("click", "span", function () {
                $(this).parent().find("p").slideDown(100)
            });
            $(".select").on("mouseleave", function () {
                $(this).find("p").slideUp(100)
            });
            //获取选择的值
            $(".select").on("click", "p a", function (e) {
                var text = $(this).text();     //选择的文字
                var input = $(this).parents(".select").find(".datacont");    //获取收藏数据的input
                var rel = $(this).attr("rel");   //选择的rel
                $(this).parent().slideUp(100);
                $(this).parents(".select").find("span").text(text);
                input.val(rel);
            });

            $(".bluebox").click(function () {
                $("#mainForm").ajaxSubmit({
                    success: function (slt) {
                        if (slt && slt.success) {
                            layer.msg("提交成功，我们会在三个工作日内联系您，谢谢。");
                            cancel();

                        }
                        else {
                            layer.msg(slt.message || '操作失败，请重试。');
                        }
                    }
                });
            });

            //作品集
            $(".flietext").change(function () {
                var file = $(this).prop('files');
                var len = file.length;
                var html = "";
                for (var i = 0; i < len; i++) {
                    html += file[i].name + '；&nbsp;'
                }
                $(".flltext").html(html)
            })
        })

        //关闭弹出窗
        function cancel() {
            parent.$(".layui-layer-shade,.layui-layer").remove();
        }
    </script>
</body>
</html>
